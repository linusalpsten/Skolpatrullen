@model WebApp.ViewModels.UserAssignmentViewModel

@{
    ViewData["Title"] = "EditUserAssignment";
}

    <a href="##" onClick="history.go(-1); return false;">Gå tillbaka</a>
    <form asp-action="EditUserAssignment" method="post">
        <h3>
            @Model.User.FirstName @Model.User.LastNames inlämning.
        </h3>
        <h4>@Model.Assignment.Name</h4>
        <div>
            <h6 class="font-italic">Sista inlämningsdag: @Convert.ToString(string.Format("{0:yyyy/MM/dd}", Model.Assignment.Deadline))</h6>
        </div>
        @if (Model.TurnedIn == true)
        {
            if (Model.ReturnDate.Date == DateTime.MinValue)
            {
                <div>
                    <label class="text-danger">Ej inlämnad</label>
                </div>
            }
            else if (Model.ReturnDate.Date <= Model.Assignment.Deadline)
            {
                <div>Inlämnad: <label class="text-success">@Model.ReturnDate</label></div>
            }
            else
            {
                <div>Sent inlämnad: <label class="text-danger">@Model.ReturnDate</label></div>
            }

            
            <div class="">@Model.Description</div>
           
            <div class="card bg-light col-sm-3">
                <div class="card-body">
                    <h5 class="card-title">
                        Filer
                    </h5>
                    @*@foreach (var file in Model.AssignmentFiles)
                    {
                        <div class="row">
                            <a class="card-link">
                                @if (file.Name.Length > 20)
                                {
                                    Html.ActionLink(file.Name.Substring(0, 20) + "...", "DownloadFile", "course", new { id = file.Id })
                                }
                                else
                                {
                                    @Html.ActionLink(file.Name, "DownloadFile", "course", new { id = file.Id })
                                }
                            </a>
                        </div>
                    }*@

                </div>
            </div>
        }
        else
        {
            <div>
                <label class="text-danger">Ej inlämnad</label>
            </div>
        }

        <div class="form-group col-lg-2">
            <label asp-for="Grade" class="control-label">Betyg</label>
            @Html.DropDownListFor(x => Model.Grade, new SelectList(Model.Grades), htmlAttributes: new { @class = "custom-select", id = "Grade" })
            <span asp-validation-for="Grade" class="text-danger"></span>
        </div>
        <input type="submit" value="Spara" />
    </form>
