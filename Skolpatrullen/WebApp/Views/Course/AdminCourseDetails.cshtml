@model Database.Models.Course

@{
    ViewData["Title"] = Model.Name;
}

<div class="d-flex" id="wrapper">
    <div class="col-3">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link text-secondary" href="#nyheter"><i class="fa fa-newspaper fa-lg"></i> Nyheter</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-secondary" href="@Url.Action("CourseParticipantList", "courseparticipant", new { courseId = Model.Id })"><i class="fa fa-user-friends fa-lg"></i> Deltagare</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-secondary" href="@Url.Action("LessonCalendar", "lesson" , new { id = Model.Id })"><i class="fa fa-calendar-alt fa-lg"></i> Kalender</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-secondary disabled" href="#"><i class="fa fa-toilet-paper fa-lg"></i> Inlämningar</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-secondary" href="@Url.Action("CourseFiles", "course", new { courseId = Model.Id })"><i class="fa fa-file fa-lg"></i> Kursfiler</a>
            </li>
            <li>
                @await Html.PartialAsync("_UploadCourseFiles", new WebApp.ViewModels.UploadCourseFileViewModel { CourseId = Model.Id })
            </li>
            <li>
                @await Html.PartialAsync("_AddCourseAssignment", new WebApp.ViewModels.UploadAssignmentFileViewModel { CourseId = Model.Id, Deadline = DateTime.Now.ToLocalTime() })
            </li>
        </ul>
    </div>

    <div class="col-9">
        <div class="content">
            <h1 class="mt-4">Kurs: @Model.Name</h1>
            @await Html.PartialAsync("_AddCourseBlogPost", new Database.Models.CourseBlogPost { CourseId = Model.Id })
            @foreach (var blogpost in Model.CourseBlogPosts)
            {
        <div class="bg-light">
            <h6>@Convert.ToString(string.Format("{0:yyyy/MM/dd  HH:mm}", blogpost.PublishDate)) Publicerat av: @blogpost.User.FirstName @blogpost.User.LastNames</h6>
            <h5>@blogpost.Title</h5>
            <p>@blogpost.Content</p>
            @Html.ActionLink("Ta bort", "RemoveCourseBlogPost", new { Id = blogpost.Id, CourseId = blogpost.CourseId })
        </div>
                <br />
            }
        </div>
    </div>
</div>